# Image Preloading System\n\n## Overview\n\nThis system automatically preloads photo thumbnails when the website loads, ensuring instant display when users navigate to the photo gallery.\n\n## How It Works\n\n### 1. Automatic Preloading\n- Starts automatically when the site loads (after 1 second delay)\n- Loads only thumbnail/medium sized images (not full resolution)\n- Checks browser cache to avoid re-downloading already cached images\n- Shows progress indicator in top-right corner\n- Loads images in small batches to prevent browser freeze\n\n### 2. Smart Image Sizing\n```typescript\n// PhotoItem interface supports multiple image sizes:\ninterface PhotoItem {\n  id: string\n  src: string          // Full resolution fallback\n  thumbnailUrl?: string // Small 150x150 for galleries  \n  mediumUrl?: string   // Medium ~400-600px for responsive\n  largeUrl?: string    // Large 1200px+ for viewer\n  title: string\n  description: string\n  year: string\n}\n```\n\n### 3. Usage Priority\n- **Gallery thumbnails**: `thumbnailUrl` → `mediumUrl` → `src`\n- **Photo viewer**: `largeUrl` → `src`\n- **Preloading**: Only thumbnails/medium sizes\n\n### 4. Performance Benefits\n- **Fast gallery loading**: Thumbnails display instantly\n- **Reduced bandwidth**: Only small images preloaded\n- **Smart caching**: Skips already cached images\n- **Smooth UX**: Progress indicator shows loading status\n- **No blocking**: Preloading happens in background\n\n## Components\n\n### `useImagePreloader` Hook\n```typescript\nconst { progress, preloadImages, isImagePreloaded } = useImagePreloader()\n\n// Progress object contains:\n{\n  total: number,      // Total images to load\n  loaded: number,     // Successfully loaded\n  failed: number,     // Failed to load\n  progress: number,   // 0-100 percentage\n  isComplete: boolean,\n  isLoading: boolean\n}\n```\n\n### `ImagePreloader` Component  \n- Automatically loads photo thumbnails on site load\n- Shows progress indicator while loading\n- Integrates with PageLayout for global functionality\n\n### `PhotoCategory` Component\n- Uses preloaded images for instant gallery display\n- Falls back gracefully if preloading failed\n- Shows different opacity states for loading feedback\n\n## File Structure\n```\nsrc/\n├── hooks/\n│   └── useImagePreloader.ts      # Main preloading logic\n├── components/\n│   ├── ImagePreloader.tsx         # Progress UI component\n│   └── media/\n│       └── PhotoCategory.tsx      # Gallery with preloaded images\n├── utils/\n│   └── imageUtils.ts              # Image optimization utilities\n└── data/\n    └── samplePhotoData.js         # Example data structure\n```\n\n## Configuration\n\n### Batch Size\nImages load in batches of 3 to prevent browser freeze:\n```typescript\nconst BATCH_SIZE = 3 // Adjust in useImagePreloader.ts\n```\n\n### Delay Before Start\nPreloading starts 1 second after site loads:\n```typescript\nsetTimeout(() => {\n  startPreloading()\n}, 1000) // Adjust in ImagePreloader.tsx\n```\n\n### Show/Hide Progress\n```typescript\n<ImagePreloader\n  showProgress={true}  // Set to false to hide progress indicator\n  onComplete={() => console.log('Done!')}\n/>\n```\n\n## Image Size Recommendations\n\n| Size | Dimensions | Use Case | File Size |\n|------|------------|----------|----------|\n| Thumbnail | 150x150px | Gallery grid | ~5-15KB |\n| Medium | 400-600px wide | Responsive loading | ~30-80KB |\n| Large | 1200px+ wide | Photo viewer | ~200-500KB |\n| Original | Full resolution | Backup/download | 1MB+ |\n\n## Error Handling\n- Failed images don't stop the preloading process\n- Progress shows both successful and failed counts\n- Graceful fallback to original images if thumbnails fail\n- Console logging for debugging\n\n## Browser Compatibility\n- Uses modern `Image()` constructor\n- Falls back gracefully on older browsers\n- Supports lazy loading with `loading=\"lazy\"`\n- Uses `decoding=\"async\"` for better performance\n\n## Performance Monitoring\n\nCheck browser console for preloading status:\n```\nFound 25 photo thumbnails to check...\nStarting preload of 12/25 uncached thumbnails...\nPhoto preloading completed!\nImage preloading completed - photos should load instantly now!\n```\n\n## Testing\n\n1. Clear browser cache\n2. Reload site and watch progress indicator\n3. Navigate to photo gallery - images should appear instantly\n4. Check Network tab to see only thumbnails were preloaded\n5. Open photo viewer to see high-res versions load\n\n## Future Enhancements\n\n- Service Worker integration for offline caching\n- Progressive image enhancement (blur-up effect)\n- Adaptive quality based on network speed\n- WebP/AVIF format support\n- Image compression based on device capabilities\n"